# 问题笔记 02 - Knife4j | Swagger 文档页面空白 以及 文档参数无法显示问题
- - -
## 前言
今天遇到一个很（sao）不（得）常（一）见（匹）的问题，所以必须要把这部血泪史记录一下。

**注：因为是开发中的项目，所以适当打码，不影响问题描述**

首先描述一下问题：（框架版本是V3.5.0，但是和版本相关性不大）

## 问题一：文档页面空白
![在这里插入图片描述](img02/f3df1dc75cfb4defa9eff276a161f731.png)

这是接口文档页面（系统模块），红框是我新增的模块，点击模块下的任意接口，页面就会变成空白：<br>
![在这里插入图片描述](img02/78a5770bdcbf4d17a19e0951d59b0dd0.png)

以第一个新增接口为例：<br>
![在这里插入图片描述](img02/433e470ceec64626bd14829d24ab4d18.png)

这个问题的原因我很快找到了，解决了问题一，却又出现了问题二，因为问题一和问题二造成的原因一致，所以我先把问题二说完再一起说解决方案。

## 问题二：文档参数无法显示

问题一解决了，点开可以看到正常的接口页面了，但是新的问题接踵而至，参数没了：<br>
![在这里插入图片描述](img02/96c5f1f44e3345e4a68da2e20e1c8867.png)

这是用页面代码生成器生成的接口代码：<br>
![在这里插入图片描述](img02/05dadfef65f9499681dadf768f1949fc.png)<br>
`@RequestBody` 应该接收的是 JSON 参数，但是页面却是 Form 表单。（这里要感谢 [狮子大佬](https://blog.csdn.net/weixin_40461281) 提醒，一开始没注意这里）

正常的新增接口：<br>
![在这里插入图片描述](img02/674a5303c730478e8e4e86418912416b.png)

接口代码：<br>
![在这里插入图片描述](img02/a232e7c4954c44db80b9ad455899c8c3.png)

如果去掉 `@RequestBody` ，问题确实可以解决一部分（JSON 参数变成了表单）：<br>
![在这里插入图片描述](img02/5f535c35452f4de5aaf14d322ed77d5a.png)
## 问题原因
首先说重点，问题的原因在于 `/` ，没错就是斜杠。

我猜测的原因是因为 `/` 作为特殊符号，前后内容会被解析成路径。

你问我为啥会有斜杠？（**大概是我脑子进水了所以弄了这么个花里胡哨的注释**）

![在这里插入图片描述](img02/a135fc53d7c147aca4ba6ec044c11a08.png)

这个注释会出现在生成的代码里面。

举个栗子（`controller`）：<br>
![在这里插入图片描述](img02/c5eba4274e604655a1a0f9dbc2ab5ecc.png)

这就是导致问题一的原因。

再举个栗子（`SysDeptDetailBo`）：<br>
![在这里插入图片描述](img02/08846ee95ab047e4b37bcb5f5a1da89d.png)

这是请求接口时的业务参数，就是导致问题二的原因。

下面我来扯下怎么解决的这两个问题（没兴趣的朋友请直接到最后解决方案）：

问题一是偶然之间发现的，一开始看到一片空白我也懵了，重启也不管用，然后在改其他接口的时候发现了猫腻：<br>
![在这里插入图片描述](img02/7afc3fd60d0c4cecb6354207a09ab9d5.png)

拉到最下面就是有问题的菜单：<br>
![在这里插入图片描述](img02/10e9343f6bd94ddabf9f7287eec8a3af.png)

这里点开就会出现空白页。问题一就是这么找到的。

解决完问题一之后忘记还有 `Bo` 这回事，所以问题二搞了挺长时间没解决，最后去群里找大佬请教，经过提醒点开请求参数发现了 `@ApiModel` 参数里面有 `/`，去掉之后所有问题终于迎刃而解。

## 解决方案

1. 把代码所有注解里面的 `/` 去掉。
2. 把数据库注释里面花里胡哨的 `/` 去掉，改用 `,` 或者其他非特殊符号。
